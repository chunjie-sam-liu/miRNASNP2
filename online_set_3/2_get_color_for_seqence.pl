#!/usr/bin/perl
#2010-7-16,gongj used to color the snp location;
#hsa-mir-1178    GCGUUGGCUGGCAGAGGAAGGGAAGGGUCCAGGGUCAGCUGAGCAUGCCCUCAGGUUGCUCACUGUUCUUCCCUAGAAUGUCAGGUGAUGU     56      76	
#hsa-mir-1181    UCCACUGCUGCCGCCGUCGCCGCCACCCGAGCCGGAGCGGGCUGGGCCGCCAAGGCAAGAUGGUGGACUACAGCGUGUGGG       14      34	56	76

#pathon format;
#python plot.py -o mir-1-1 -m mir-1-1_comment.txt -s 0.90000000000000002,0.20000000000000001,0.20000000000000001,0.20000000000000001,0.5,0.5,0.5,0.80000000000000004,0.5,0.90000000000000002,0.5,0.80000000000000004,0.90000000000000002,0.90000000000000002,0.80000000000000004,0.90000000000000002,0.90000000000000002,0.90000000000000002,0.5,0.90000000000000002,0.5,0.90000000000000002,0.20000000000000001,0.80000000000000004,0.80000000000000004,0.80000000000000004,0.5,0.90000000000000002,0.5,0.90000000000000002,0.20000000000000001,0.20000000000000001,0.5,0.80000000000000004,0.80000000000000004,0.90000000000000002,0.20000000000000001,0.80000000000000004,0.90000000000000002,0.5,0.5,0.20000000000000001,0.80000000000000004,0.90000000000000002,0.5,0.90000000000000002,0.20000000000000001,0.20000000000000001,0.5,0.5,0.90000000000000002,0.20000000000000001,0.90000000000000002,0.5,0.5,0.5,0.20000000000000001,0.5,0.5,0.20000000000000001,0.90000000000000002,0.5,0.90000000000000002,0.2000000
#0000000001,0.90000000000000002,0.5,0.90000000000000002,0.80000000000000004,0.90000000000000002,0.80000000000000004,0.5 UGGGAAACAUACUUCUUUAUAUGCCCAUAUGGACCUGCUAAGCUAUGGAAUGUAAAGAAGUAUGUAUCUC

($infile)=@ARGV;
open (IN,$infile) or die "cant open $infile\n";

while (<IN>){
my @score="";
chomp;
@data=split("\t",$_);
$outfile="online_set_3/".$data[0];
$length=length $data[1];
$seq=$data[1];
$s=$data[2];

$e=$data[3];
$s2=$data[4];
$e2=$data[5];
for ($i=5;$i<$s;$i++){
push  @score, (0.4);
}

for ($i=$s;$i<=$e;$i++){
push @score, (1);
}
for ($i=$e+1;$i<$s2;$i++){
push @score, (0.4);
}
for ($i=$s2;$i<=$e2;$i++){
push @score,(1);
}
for ($i=$e2+1;$i<=$length;$i++){
push @score ,(0.4);
}


$snew=join (",",@score);
$m=$data[0];
$snew=~s/^\,//;
print "$m\n";
# `python online_set_3/plot.py -o $outfile -s $snew  -m $m  $seq`;
`python online_set_3/plot.py -o $outfile -s $snew  $seq`;
}

